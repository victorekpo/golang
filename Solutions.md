The error "fatal error: all goroutines are asleep - deadlock!" indicates that your program is stuck waiting for something that will never happen, causing a deadlock. This can occur if all goroutines are waiting on each other or if a channel operation is blocking indefinitely.  In your ProcessItem method, the deadlock might be caused by the wg.Wait() call if no worker is available to process the item. To fix this, you can modify the ProcessItem method to ensure that it does not wait indefinitely and handles the case where no workers are available. 